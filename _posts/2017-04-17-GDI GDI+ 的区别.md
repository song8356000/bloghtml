---
title: GDI GDI+ 的区别
date: 2019-04-23 14:55:39
tags: CSDN迁移
---
   GDI+是GDI的下一个版本，它进行了很好的改进，并且易用性更好。GDI的一个好处就是你不必知道任何关于数据怎样在设备上渲染的细节，GDI+更好的实现了这个优点，也就是说，GDI是一个中低层API,你还可能要知道设备，而GDI+是一个高层的API，你不必知道设备。例如你如果要设置某个控件的前景和背景色，只需设置BackColor和ForeColor属性。   
  
 编程模式的变化   
 “GDI uses a stateful model, whereas GDI+ uses a stateless”——GDI是有状态的，GDI+是无无状态的。  
  
**1、不再使用设备环境或句柄 **  
 在使用GDI绘图时，必须要指定一个设备环境(DC)，用来将某个窗口或设备与设备环境类的句柄指针关联起来，所有的绘图操作都与该句柄有关。而GDI+不再使用这个设备环境或句柄，取而代之是使用Graphics对象。与设备环境相类似，Graphics对象也是将屏幕的某一个窗口与之相关联，并包含绘图操作所需要的相关属性。但是，只有这个Graphics对象与设备环境句柄还存在着联系，其余的如Pen、Brush、Image和Font等对象均不再使用设备环境。   
  
**2、Pen、Brush，Font，Image等对象是图形对象独立的**  
 画笔对象能与用于提供绘制方法的图形对象分开创建于维护，Graphics绘图方法直接将Pen对象作为自己的参数，从而避免了在GDI使用SelectObject进行繁琐的切换，类似的还有Brush、Path、Image和Font等。   
  
**3、“当前位置”**  
 GDI绘图操作(如画线)中总存在一个被称为"当前位置"的特殊位置。每次画线都是以此当前位置为起始点，画线操作结束之后，直线的结束点位置又成为了当前位置。设置当前位置的理由是为了提高画线操作的效率，因为在一些场合下，总是一条直线连着另一条直线，首尾相接。有了当前位置的自动更新，就可避免每次画线时都要给出两点的坐标。尽管有其必要性，但是单独绘制一条直线的场合总是比较多的，因此GDI+取消这个"当前位置"以避免当无法确定"当前位置"时所造成的绘图的差错，取而代之的是直接在DrawLine中指定直线起止点的坐标。   
  
**4、绘制和填充**  
 GDI总是让形状轮廓绘制和填充使用同一个绘图函数，例如Rectangle。轮廓绘制需要一个画笔，而填充一个区域需要一个画刷。也就是说，不管我们是否需要填充所绘制的形状，我们都需要指定一个画刷，否则GDI采用默认的画刷进行填充。这种方式确实给我们带来了许多不便，现在GDI+将形状轮廓绘制和填充操作分开而采用不同的方法，例如DrawRectangle和FillRectangle分别用来绘制和填充一个矩形。   
  
**5、区域的操作**  
 GDI提供了许多区域创建函数，如：CreateRectRgn、CreateEllpticRgn、CreateRoundRectRgn、CreatePolygonRgn和CreatePolyPolygonRgn等。诚然，这些函数给我们带来了许多方便。但在GDI+中，由于为了便于将区域引入矩阵变换操作，GDI+简化一般区域创建的方法，而将更复杂的区域创建交由Path接管。由于Path对象是与设备环境分离开来的，因而可以直接在Region构造函数中加以指定。  
  
 ====================================================================  
**GDI+和GDI区别以及一些新特征 **  
  
**【GDI+与GDI】**  
  
 1. GDI是硬件加速的，而GDI+不是的，而且GDI+2.0比GDI+更快。  
  
 2. GDI是有状态的，而GDI+是无状态的。  
  
 3. GDI绘图要使用设备环境和句柄；而GDI+全部交由Graphics类管理。  
  
 4. GDI绘图时可以使用SelectObject频繁切换图形对象，而GDI+的图形对象是独立的。  
  
 5. GDI中存在一个“当前位置”（全局区），目的是提高绘图性能；而GDI+取消了它，以避免绘图时不确定这个“当前位置”而带来非预期的错误。  
  
 6. GDI总是将画笔和画刷绑定在一起，即使不需要填充一个区域也必须指定一个画刷；而GDI+则可以使用不同的函数分开使用画笔和画刷。  
  
  
**【GDI+新特性】**  
  
 1. 改进了颜色管理。GDI+不仅提供了更多可供选择使用的颜色，使其支持Alpha通道合成运算，而且还保持了与其他颜色的兼容性。  
  
 2. 绘图支持反锯齿。通过设置GDI+对象的相关属性，GDI+可以与相关的显示驱动程序搭配完成图形绘制时的反锯齿功能，使得绘制的图形更加平滑，美观，而整个过程是由GDI+对象自动计算完成的。  
  
 3. 提供渐变画刷。GDI+拓展了GDI的功能，提供线性渐变和路径渐变画刷来填充图形、路径和区域，甚至也可用来绘制直线、曲线等。  
  
 4. 独立的路径对象。GDI+使用Graphics对象来进行绘图操作，并将路径操作从Graphics对象分离出来，提供一个Graphics类供用户使用，用户不必担心对象会受到Graphics对象操作的影响，从而可以使用同一个操作对象进行多次的路径绘制操作。  
  
 5. 样条曲线。GDI+封装了绘制基数样条曲线和贝塞尔样条曲线的方法。  
  
 6. 变形和矩阵运算。GDI+提供了功能强大的Matrix类来实现矩阵的旋转，错切、平移、比例等变换操作，以便产生复杂的新图形。  
  
 7. 多图片格式的支持。GDI+该进了图形处理能力，通过GDI+，用户能够访问多种格式的图片文件，转换文件格式等，还能进行图像重新着色、色彩修正、消除走样等图像处理。

 

 感谢原作者的分享！

 本文转载自：[https://www.cnblogs.com/lidabo/p/3701252.html](https://www.cnblogs.com/lidabo/p/3701252.html)

   
 