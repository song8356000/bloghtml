---
title: C++ string和c类型字符数组的比较
date: 2016-08-29 11:18:24
tags: CSDN迁移
---
   **在c++中string是很方便操作的字符串，支持多种算数运算和比较运算，操作起来非常灵活。**

 **string也具有一些容器的性质，可以通过迭代器对字符元素进行访问**

 **c类型的字符数组有如下三种初始化方式：**

 **  
**

 **//前两种的初始化方式是等同的，最后一种没有‘/0’char *cp="hello";char c_arr[]="hello";char c_arr2[]={'h','e','l','l','o'};  
** **这三种定义c字符串的方式，其中前两种虽然形式不一样但含义是一摸一样的，没有差别，在计算字符长度的时候都会比实际显示的字符长度多1，因为这两种初始化会在字符串末尾默认添加了一个‘/0’。而第三种初始化方式的长度就是方括号里的字符数，这种方式并不会默认末尾结束符'/0'。如果用第三种方式声明和前两种方式同样的字符串则需这样声明：**

 **  
**

 **char c_arr2[]={'h', 'e', 'l', 'l', 'o', '/0' };  
  
  
** **string可以用c字符串进行初始化，如**

 **  
**

 **string s1(cp);//复制cp中的所有字符到s1中（除了末尾空字符'/0'）string s2(c_arr,2);//复制c_arr两个字符到s2中string s3(c_arr2);//error**

 **  
**

 **但注意，当对string用c字符串进行初始化时，或是指定初始化的长度（如strings2(c_arr,2);），如果不指定长度需要c字符串必须以'/0'结尾，如果不是以'/0'结尾则程序会出错。如代码（string s3(c_arr2);）程序编译的时候就会出错。**

 **  
**

 **string类型也可以转换成c类型的字符串，可以通过string的成员方法string::c_str()进行转换。**

 **如下**

 **string str("hello");const char *cp=str.c_str();  
 **   
 