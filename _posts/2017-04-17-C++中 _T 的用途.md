---
title: C++中 _T 的用途
date: 2017-01-05 17:11:52
tags: CSDN迁移
---
   **1\C++语言中“_T”是什么意思？**

 Visual C++里边定义字符串的时候，用_T来保证兼容性，VC支持ascii和unicode两种字符类型，用_T可以保证从ascii编码类型转换到unicode编码类型的时候，程序不需要修改。   
  
 如果将来你不打算升级到unicode，那么也不需要_T，

 ---------------------------------------------------------

 _t("hello world")   
 在ansi的环境下，它是ansi的，如果在unicode下，那么它将自动解释为双字节字符串，既unicode编码。   
 这样做的好处，不管是ansi环境，还是unicode环境，都适用。

 

 **2\请问在vc++中的字符串_T("ABC")和一个普通的字符串“ABC”有什么区别。**

 _T("ABC")   
 表示如果定义了unicode   
 它表示 L"ABC"，每个字符为16位，宽字符字符串   
 ---------------------------------------------------------  
 if not UNICODE   
 它就是ascii的"ABC"，每个字符为8位   
 "ABC"就是指ascii字符串"ABC"

 ----------------------------------------------------------

 

 相当于   
 #ifdef _UNICODE   
 #define _T("ABC") L"ABC"   
 #else   
 #define _T("ABC") "ABC"   
 #endif

 ----------------------------------------------------------

 

 _T("ABC")中的一个字符和汉字一样，占两个字节，而在"ABC"中，英文字符占一个字节，汉字占两个字节

   
 